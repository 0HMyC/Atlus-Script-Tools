
// 
// FlowScript decompiled using Atlus Script Tools by TGE (2017-2021)
// In the unfortunate case of any bugs, please report them back to me.
// 


// 
// Imports
// 

import( "JumpInstruction2.bf.msg" );

// 
// Script-level variable definitions
// 

int sVar73;
int sVar74;
int sVar75;

// 
// Procedure declarations
// 

// Procedure Index: 0
void TRAIN_SYS_STOP()
{
    int var0;
    
    if ( FLD_LOCAL_FLAG_CHK( ( 49152 + 10 ) ) == 1 )
    {
        return;
    }

    var0 = FLD_OBJ_CNV_RESHND( 18 );
    FLD_CROWD_PATH_VISIBLE( 1, 1 );
    FLD_CROWD_PATH_VISIBLE( 8, 1 );
    FLD_CROWD_PATH_VISIBLE( 17, 1 );
    FLD_CROWD_PATH_VISIBLE( 19, 1 );
    FLD_CROWD_PATH_VISIBLE( 68, 1 );
    FLD_CROWD_PATH_VISIBLE( 82, 1 );
    FLD_CROWD_PATH_VISIBLE( 87, 1 );
    FLD_CROWD_PATH_VISIBLE( 103, 1 );
    FLD_CROWD_PATH_VISIBLE( 106, 1 );
    // bit id (0) + (96) = 96
    
    if ( !BIT_CHK( ( 0 + 96 ) ) )
    {
        FLD_CROWD_PATH_VISIBLE( 0x10, 1 );
    }

    MDL_ANIM( var0, 2, 0, 0, 1.00f );
    BGENV_LINE_SE_PLAY( 4 );
    BGENV_SE_PLAY( 22 );
    // bit id (((0) + (2048)) + (2048)) + (4048) = 8144
    BIT_OFF( ( ( ( 0 + 0x0800 ) + 0x0800 ) + 4048 ) );
    // bit id (((0) + (2048)) + (2048)) + (4049) = 8145
    BIT_ON( ( ( ( 0 + 0x0800 ) + 0x0800 ) + 4049 ) );
    FLD_CROWD_PATH_WAIT( 1, 0 );
    FLD_CROWD_PATH_WAIT( 8, 0 );
    FLD_CROWD_PATH_WAIT( 17, 0 );
    FLD_CROWD_PATH_WAIT( 19, 0 );
    FLD_CROWD_PATH_WAIT( 68, 0 );
    FLD_CROWD_PATH_WAIT( 82, 0 );
    FLD_CROWD_PATH_WAIT( 87, 0 );
    FLD_CROWD_PATH_WAIT( 103, 0 );
    FLD_CROWD_PATH_WAIT( 106, 0 );
    // bit id (0) + (96) = 96
    
    if ( !BIT_CHK( ( 0 + 96 ) ) )
    {
        FLD_CROWD_PATH_WAIT( 0x10, 0 );
    }

    FLD_BGMNG_LINKPROC_ANIMEND( 0, 1, 18, 2 );
}


// Procedure Index: 1
void TRAIN_SYS_OPEN()
{
    int var1;
    
    if ( FLD_LOCAL_FLAG_CHK( ( 49152 + 10 ) ) == 1 )
    {
        return;
    }

    var1 = FLD_OBJ_CNV_RESHND( 18 );
    MDL_ANIM( var1, 3, 0, 0, 1.00f );
    FLD_CROWD_PATH_WAIT( 4, 0 );
    FLD_CROWD_PATH_WAIT( 7, 0 );
    FLD_CROWD_PATH_WAIT( 9, 0 );
    FLD_CROWD_PATH_WAIT( 73, 0 );
    FLD_CROWD_PATH_WAIT( 79, 0 );
    FLD_CROWD_PATH_WAIT( 81, 0 );
    FLD_CROWD_PATH_WAIT( 86, 0 );
    FLD_CROWD_PATH_WAIT( 88, 0 );
    FLD_CROWD_PATH_WAIT( 104, 0 );
    FLD_CROWD_PATH_WAIT( 105, 0 );
    FLD_CROWD_PATH_WAIT( 107, 0 );
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        FLD_CROWD_PATH_WAIT( 0x10, 0 );
    }

    BGENV_SE_PLAY( 3 );
    FLD_CROWD_PATH_WAIT_UNIT( 4 );
    FLD_CROWD_PATH_WAIT_UNIT( 7 );
    FLD_CROWD_PATH_WAIT_UNIT( 9 );
    FLD_CROWD_PATH_WAIT_UNIT( 73 );
    FLD_CROWD_PATH_WAIT_UNIT( 79 );
    FLD_CROWD_PATH_WAIT_UNIT( 81 );
    FLD_CROWD_PATH_WAIT_UNIT( 86 );
    FLD_CROWD_PATH_WAIT_UNIT( 88 );
    FLD_CROWD_PATH_WAIT_UNIT( 104 );
    FLD_CROWD_PATH_WAIT_UNIT( 105 );
    FLD_CROWD_PATH_WAIT_UNIT( 107 );
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        FLD_CROWD_PATH_WAIT_UNIT( 0x10 );
    }

    __JUMP( TRAIN_SYS_CLOSE );
}


// Procedure Index: 2
void TRAIN_SYS_CLOSE()
{
    int var2;
    
    if ( FLD_LOCAL_FLAG_CHK( ( 49152 + 10 ) ) == 1 )
    {
        return;
    }

    var2 = FLD_OBJ_CNV_RESHND( 18 );
    BGENV_SE_PLAY( 23 );
    MDL_ANIM( var2, 4, 0, 0, 1.00f );
    BGENV_LINE_SE_FADEOUT( 4, 30 );
    BGENV_LINE_SE_PLAY( 5 );
    // bit id (((0) + (2048)) + (2048)) + (4049) = 8145
    BIT_OFF( ( ( ( 0 + 0x0800 ) + 0x0800 ) + 4049 ) );
    // bit id (((0) + (2048)) + (2048)) + (4048) = 8144
    BIT_ON( ( ( ( 0 + 0x0800 ) + 0x0800 ) + 4048 ) );
    FLD_BGMNG_LINKPROC_ANIMEND( 0, 3, 18, 4 );
}


// Procedure Index: 3
void TRAIN_SYS_CLOSE_WAIT()
{
    int var3;
    
    if ( FLD_LOCAL_FLAG_CHK( ( 49152 + 10 ) ) == 1 )
    {
        return;
    }

    var3 = FLD_OBJ_CNV_RESHND( 18 );
    MDL_ANIM( var3, 5, 0, 0, 1.00f );
    FLD_BGMNG_LINKPROC_TIME( 0, 4, 1 );
}


// Procedure Index: 4
void TRAIN_SYS_GO()
{
    int var4;
    
    if ( FLD_LOCAL_FLAG_CHK( ( 49152 + 10 ) ) == 1 )
    {
        return;
    }

    var4 = FLD_OBJ_CNV_RESHND( 18 );
    // bit id (((0) + (2048)) + (2048)) + (4048) = 8144
    BIT_ON( ( ( ( 0 + 0x0800 ) + 0x0800 ) + 4048 ) );
    MDL_ANIM( var4, 6, 0, 0, 1.00f );
    FLD_BGMNG_LINKPROC_ANIMEND( 0, 5, 18, 6 );
}


// Procedure Index: 5
void TRAIN_SYS_GO_AFTER_WAIT()
{
    int var5;
    
    if ( FLD_LOCAL_FLAG_CHK( ( 49152 + 10 ) ) == 1 )
    {
        return;
    }

    var5 = FLD_OBJ_CNV_RESHND( 18 );
    MDL_ANIM( var5, 0, 0, 0, 1.00f );
    FLD_CROWD_PATH_REPOP_UNIT( 4 );
    FLD_CROWD_PATH_REPOP_UNIT( 7 );
    FLD_CROWD_PATH_REPOP_UNIT( 9 );
    FLD_CROWD_PATH_REPOP_UNIT( 73 );
    FLD_CROWD_PATH_REPOP_UNIT( 79 );
    FLD_CROWD_PATH_REPOP_UNIT( 81 );
    FLD_CROWD_PATH_REPOP_UNIT( 86 );
    FLD_CROWD_PATH_REPOP_UNIT( 88 );
    FLD_CROWD_PATH_REPOP_UNIT( 104 );
    FLD_CROWD_PATH_REPOP_UNIT( 105 );
    FLD_CROWD_PATH_REPOP_UNIT( 107 );
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        FLD_CROWD_PATH_REPOP_UNIT( 0x10 );
    }

    FLD_BGMNG_LINKPROC_TIME( 0, 6, 10 );
}


// Procedure Index: 6
void TRAIN_SYS_RETURN()
{
    int var6;
    
    if ( FLD_LOCAL_FLAG_CHK( ( 49152 + 10 ) ) == 1 )
    {
        return;
    }

    var6 = FLD_OBJ_CNV_RESHND( 18 );
    BGENV_LINE_SE_PLAY( 6 );
    MDL_ANIM( var6, 1, 0, 0, 1.00f );
    FLD_CROWD_PATH_REPOP_UNIT( 1 );
    FLD_CROWD_PATH_REPOP_UNIT( 8 );
    FLD_CROWD_PATH_REPOP_UNIT( 17 );
    FLD_CROWD_PATH_REPOP_UNIT( 19 );
    FLD_CROWD_PATH_REPOP_UNIT( 68 );
    FLD_CROWD_PATH_REPOP_UNIT( 82 );
    FLD_CROWD_PATH_REPOP_UNIT( 87 );
    FLD_CROWD_PATH_REPOP_UNIT( 103 );
    FLD_CROWD_PATH_REPOP_UNIT( 106 );
    // bit id (0) + (96) = 96
    
    if ( !BIT_CHK( ( 0 + 96 ) ) )
    {
        FLD_CROWD_PATH_REPOP_UNIT( 0x10 );
    }

    FLD_CROWD_PATH_VISIBLE( 1, 0 );
    FLD_CROWD_PATH_VISIBLE( 8, 0 );
    FLD_CROWD_PATH_VISIBLE( 17, 0 );
    FLD_CROWD_PATH_VISIBLE( 19, 0 );
    FLD_CROWD_PATH_VISIBLE( 68, 0 );
    FLD_CROWD_PATH_VISIBLE( 82, 0 );
    FLD_CROWD_PATH_VISIBLE( 87, 0 );
    FLD_CROWD_PATH_VISIBLE( 103, 0 );
    FLD_CROWD_PATH_VISIBLE( 106, 0 );
    // bit id (0) + (96) = 96
    
    if ( !BIT_CHK( ( 0 + 96 ) ) )
    {
        FLD_CROWD_PATH_VISIBLE( 0x10, 0 );
    }

    FLD_BGMNG_LINKPROC_ANIMEND( 0, 0, 18, 1 );
}


// Procedure Index: 7
void TRAIN_SYS_RIDE_DOOR_OPEN_WAIT()
{
    int var7;
    var7 = FLD_OBJ_CNV_RESHND( 18 );
    FLD_CROWD_PATH_WAIT_UNIT( 4 );
    FLD_CROWD_PATH_WAIT_UNIT( 7 );
    FLD_CROWD_PATH_WAIT_UNIT( 9 );
    FLD_CROWD_PATH_WAIT_UNIT( 73 );
    FLD_CROWD_PATH_WAIT_UNIT( 79 );
    FLD_CROWD_PATH_WAIT_UNIT( 81 );
    FLD_CROWD_PATH_WAIT_UNIT( 86 );
    FLD_CROWD_PATH_WAIT_UNIT( 88 );
    FLD_CROWD_PATH_WAIT_UNIT( 104 );
    FLD_CROWD_PATH_WAIT_UNIT( 105 );
    FLD_CROWD_PATH_WAIT_UNIT( 107 );
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        FLD_CROWD_PATH_WAIT_UNIT( 0x10 );
    }

    BGENV_SE_PLAY( 3 );
    WAIT( 0 );
    __JUMP( TRAIN_SYS_RIDE_DOOR_CLOSE );
}


// Procedure Index: 8
void TRAIN_SYS_RIDE_DOOR_CLOSE()
{
    int var8;
    var8 = FLD_OBJ_CNV_RESHND( 18 );
    BGENV_SE_PLAY( 23 );
    MDL_ANIM( var8, 4, 0, 0, 1.00f );
    BGENV_LINE_SE_FADEOUT( 4, 30 );
    BGENV_LINE_SE_PLAY( 5 );
    FLD_BGMNG_LINKPROC_ANIMEND( 0, 9, 18, 4 );
}


// Procedure Index: 9
void TRAIN_SYS_RIDE_DOOR_CLOSE_WAIT()
{
    int var9;
    var9 = FLD_OBJ_CNV_RESHND( 18 );
    MDL_ANIM( var9, 5, 0, 0, 1.00f );
    FLD_BGMNG_LINKPROC_TIME( 0, 10, 1 );
}


// Procedure Index: 10
void TRAIN_SYS_RIDE_GO()
{
    int var10;
    var10 = FLD_OBJ_CNV_RESHND( 18 );
    MDL_ANIM( var10, 6, 0, 0, 1.00f );
    // bit id (((0) + (2048)) + (2048)) + (4049) = 8145
    BIT_OFF( ( ( ( 0 + 0x0800 ) + 0x0800 ) + 4049 ) );
    // bit id (((0) + (2048)) + (2048)) + (4048) = 8144
    BIT_ON( ( ( ( 0 + 0x0800 ) + 0x0800 ) + 4048 ) );
    FLD_BGMNG_LINKPROC_ANIMEND( 0, 5, 18, 6 );
}


// Procedure Index: 11
void ACCESS_DENENTOSI_01()
{
    int var11;
    var11 = FLD_PC_GET_RESHND( 0 );
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        SUB_KFEVT_ACCESS_DENENTOSI_01();
    }
    else 
    {
        FLD_UNIT_SET_WALK( var11 );
        FLD_MODEL_POINT_ROTATE( var11, 7853.391f, 0.00f, -14.8684f, 5 );
        FLD_MODEL_SET_TRANSLATE( var11, 7853.391f, 0.00f, -14.8684f, 10 );
        FLD_MODEL_SYNC_TRANSLATE( var11 );
        FLD_MODEL_SET_ROTATE( var11, 0, 0, 0, 5 );
        FLD_MODEL_SET_TRANSLATE( var11, 7827.36f, -0.00f, 125.6125f, 20 );
        FLD_MODEL_SYNC_TRANSLATE( var11 );
        FLD_UNIT_SET_WAIT( var11 );
        Fld_FadeOut_Subway();
        CALL_FIELD( 11, 6, 2, 0 );
    }

}


// Procedure Index: 12
void ACCESS_DENENTOSI_02()
{
    int var12;
    var12 = FLD_PC_GET_RESHND( 0 );
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        SUB_KFEVT_ACCESS_DENENTOSI_02();
    }
    else 
    {
        FLD_UNIT_SET_WALK( var12 );
        FLD_MODEL_POINT_ROTATE( var12, 13244.22f, 0.00f, -113.854f, 5 );
        FLD_MODEL_SET_TRANSLATE( var12, 13244.22f, 0.00f, -113.854f, 10 );
        FLD_MODEL_SYNC_TRANSLATE( var12 );
        FLD_MODEL_SET_ROTATE( var12, 0, 0, 0, 5 );
        FLD_MODEL_SET_TRANSLATE( var12, 13207.24f, 0.00f, 128.5401f, 20 );
        FLD_MODEL_SYNC_TRANSLATE( var12 );
        FLD_UNIT_SET_WAIT( var12 );
        Fld_FadeOut_Subway();
        CALL_FIELD( 11, 6, 2, 0 );
    }

}


// Procedure Index: 13
void ACCESS_DENENTOSI_01_CALL()
{
    int var13;
    int var14;
    var13 = FLD_OBJ_CNV_RESHND( 18 );
    var14 = FLD_PC_GET_RESHND( 0 );
    // bit id (0) + (96) = 96
    // bit id (0) + (96) = 96
    // bit id (0) + (96) = 96
    // bit id (0) + (96) = 96
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        SUB_KFEVT_ACCESS_DENENTOSI_01_CALL();
    }
    else 
    {
        FLD_LOCAL_FLAG_ON( ( 49152 + 10 ) );
        FADEOUT( 5, 10 );
        FADE_SYNC();
        FLD_CROWD_PATH_VISIBLE( 4, 1 );
        FLD_CROWD_PATH_VISIBLE( 7, 1 );
        FLD_CROWD_PATH_VISIBLE( 9, 1 );
        FLD_CROWD_PATH_VISIBLE( 73, 1 );
        FLD_CROWD_PATH_VISIBLE( 79, 1 );
        FLD_CROWD_PATH_VISIBLE( 81, 1 );
        FLD_CROWD_PATH_VISIBLE( 86, 1 );
        FLD_CROWD_PATH_VISIBLE( 88, 1 );
        
        if ( BIT_CHK( ( 0 + 96 ) ) )
        {
            FLD_CROWD_PATH_VISIBLE( 0x10, 1 );
        }

        BGENV_LINE_SE_STOP( 3 );
        BGENV_LINE_SE_STOP( 4 );
        BGENV_LINE_SE_STOP( 5 );
        BGENV_LINE_SE_STOP( 6 );
        MDL_ANIM( var13, 5, 0, 0, 1.00f );
        MDL_ANIM( var13, 1, 0, 0, 1.00f );
        BGENV_LINE_SE_PLAY( 6 );
        
        if ( FLD_MODEL_GET_X_TRANSLATE( var14 ) >= 7628.00f )
        {
            FLD_MODEL_SET_POS( var14, 8 );
        }
        else 
        {
            FLD_MODEL_SET_POS( var14, 23 );
        }

        FLD_MODEL_SET_ROTATE( var14, 0, 0, 0, 5 );
        FADEIN( 5, 20 );
        FADE_SYNC();
        MDL_ANIM_SYNC( var13 );
        FLD_CROWD_PATH_VISIBLE( 1, 1 );
        FLD_CROWD_PATH_VISIBLE( 8, 1 );
        FLD_CROWD_PATH_VISIBLE( 17, 1 );
        FLD_CROWD_PATH_VISIBLE( 19, 1 );
        FLD_CROWD_PATH_VISIBLE( 68, 1 );
        FLD_CROWD_PATH_VISIBLE( 82, 1 );
        FLD_CROWD_PATH_VISIBLE( 87, 1 );
        
        if ( !BIT_CHK( ( 0 + 96 ) ) )
        {
            FLD_CROWD_PATH_VISIBLE( 0x10, 1 );
        }

        MDL_ANIM( var13, 2, 0, 0, 1.00f );
        MDL_ANIM_SYNC( var13 );
        FLD_CROWD_PATH_WAIT( 1, 0 );
        FLD_CROWD_PATH_WAIT( 8, 0 );
        FLD_CROWD_PATH_WAIT( 17, 0 );
        FLD_CROWD_PATH_WAIT( 19, 0 );
        FLD_CROWD_PATH_WAIT( 68, 0 );
        FLD_CROWD_PATH_WAIT( 82, 0 );
        FLD_CROWD_PATH_WAIT( 87, 0 );
        
        if ( !BIT_CHK( ( 0 + 96 ) ) )
        {
            FLD_CROWD_PATH_WAIT( 0x10, 0 );
        }

        FLD_CROWD_PATH_WAIT( 4, 0 );
        FLD_CROWD_PATH_WAIT( 7, 0 );
        FLD_CROWD_PATH_WAIT( 9, 0 );
        FLD_CROWD_PATH_WAIT( 73, 0 );
        FLD_CROWD_PATH_WAIT( 79, 0 );
        FLD_CROWD_PATH_WAIT( 81, 0 );
        FLD_CROWD_PATH_WAIT( 86, 0 );
        FLD_CROWD_PATH_WAIT( 88, 0 );
        
        if ( BIT_CHK( ( 0 + 96 ) ) )
        {
            FLD_CROWD_PATH_WAIT( 0x10, 0 );
        }

        FLD_UNIT_SET_WALK( var14 );
        FLD_MODEL_ADD_TRANSLATE( var14, 0, 0, 300, 30 );
        FLD_MODEL_SYNC_TRANSLATE( var14 );
        FLD_UNIT_SET_WAIT( var14 );
        Fld_FadeOut_Subway();
        CALL_FIELD( 11, 6, 2, 0 );
    }

}


// Procedure Index: 14
void ACCESS_DENENTOSI_02_CALL()
{
    int var15;
    int var16;
    var15 = FLD_OBJ_CNV_RESHND( 18 );
    var16 = FLD_PC_GET_RESHND( 0 );
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        SUB_KFEVT_ACCESS_DENENTOSI_02_CALL();
    }
    else 
    {
        FADEOUT( 5, 10 );
        FADE_SYNC();
        FLD_CROWD_PATH_VISIBLE( 1, 1 );
        FLD_CROWD_PATH_VISIBLE( 8, 1 );
        FLD_CROWD_PATH_VISIBLE( 17, 1 );
        FLD_CROWD_PATH_VISIBLE( 19, 1 );
        FLD_CROWD_PATH_VISIBLE( 0x10, 1 );
        FLD_CROWD_PATH_VISIBLE( 68, 1 );
        FLD_CROWD_PATH_VISIBLE( 82, 1 );
        FLD_CROWD_PATH_VISIBLE( 87, 1 );
        FLD_CROWD_PATH_VISIBLE( 4, 1 );
        FLD_CROWD_PATH_VISIBLE( 7, 1 );
        FLD_CROWD_PATH_VISIBLE( 9, 1 );
        FLD_CROWD_PATH_VISIBLE( 73, 1 );
        FLD_CROWD_PATH_VISIBLE( 79, 1 );
        FLD_CROWD_PATH_VISIBLE( 81, 1 );
        FLD_CROWD_PATH_VISIBLE( 86, 1 );
        FLD_CROWD_PATH_VISIBLE( 88, 1 );
        BGENV_LINE_SE_STOP( 3 );
        BGENV_LINE_SE_STOP( 4 );
        BGENV_LINE_SE_STOP( 5 );
        BGENV_LINE_SE_STOP( 6 );
        MDL_ANIM( var15, 5, 0, 0, 1.00f );
        MDL_ANIM( var15, 1, 0, 0, 1.00f );
        MDL_ANIM_SEEK( var15, 120 );
        BGENV_LINE_SE_PLAY( 3 );
        FLD_MODEL_SET_POS( var16, 3 );
        FLD_MODEL_SET_ROTATE( var16, 0, 0, 0, 5 );
        FADEIN( 5, 20 );
        FADE_SYNC();
        MDL_ANIM_SYNC( var15 );
        MDL_ANIM( var15, 2, 0, 0, 1.00f );
        MDL_ANIM_SYNC( var15 );
        FLD_CROWD_PATH_WAIT( 1, 0 );
        FLD_CROWD_PATH_WAIT( 8, 0 );
        FLD_CROWD_PATH_WAIT( 17, 0 );
        FLD_CROWD_PATH_WAIT( 19, 0 );
        FLD_CROWD_PATH_WAIT( 0x10, 0 );
        FLD_CROWD_PATH_WAIT( 68, 0 );
        FLD_CROWD_PATH_WAIT( 82, 0 );
        FLD_CROWD_PATH_WAIT( 87, 0 );
        FLD_CROWD_PATH_WAIT( 4, 0 );
        FLD_CROWD_PATH_WAIT( 7, 0 );
        FLD_CROWD_PATH_WAIT( 9, 0 );
        FLD_CROWD_PATH_WAIT( 73, 0 );
        FLD_CROWD_PATH_WAIT( 79, 0 );
        FLD_CROWD_PATH_WAIT( 81, 0 );
        FLD_CROWD_PATH_WAIT( 86, 0 );
        FLD_CROWD_PATH_WAIT( 88, 0 );
        FLD_UNIT_SET_WALK( var16 );
        FLD_MODEL_ADD_TRANSLATE( var16, 0, 0, 300, 30 );
        FLD_MODEL_SYNC_TRANSLATE( var16 );
        FLD_UNIT_SET_WAIT( var16 );
        Fld_FadeOut_Subway();
        CALL_FIELD( 11, 6, 2, 0 );
    }

}


// Procedure Index: 15
void MAIN_GOTO_STATION_HIKA()
{
    FLD_PANEL_HIDE_DISABLE();
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        SUB_KFEVT_GOTO_STATION_HIKA();
    }
    else 
    {
        BGENV_LINE_SE_STOP( 3 );
        BGENV_LINE_SE_STOP( 4 );
        BGENV_LINE_SE_STOP( 5 );
        BGENV_LINE_SE_STOP( 6 );
        FLD_REQ_SCN_CHANGE( 11 );
        CALL_FIELD( 1, 2, 24, 0 );
    }

}


// Procedure Index: 16
void MAIN_GOTO_STATION_INO()
{
    FLD_PANEL_HIDE_DISABLE();
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        SUB_KFEVT_GOTO_STATION_INO();
    }
    else 
    {
        BGENV_LINE_SE_STOP( 3 );
        BGENV_LINE_SE_STOP( 4 );
        BGENV_LINE_SE_STOP( 5 );
        BGENV_LINE_SE_STOP( 6 );
        FLD_REQ_SCN_CHANGE( 11 );
        CALL_FIELD( 1, 2, 25, 0 );
    }

}


// Procedure Index: 17
void MAIN_TrainDoor_East02()
{
    int var17;
    var17 = FLD_PC_GET_RESHND( 0 );
    // bit id (0) + (96) = 96
    
    if ( BIT_CHK( ( 0 + 96 ) ) )
    {
        SUB_KFEVT_ACCESS_DENENTOSI_01();
    }
    else 
    {
        FLD_UNIT_SET_WALK( var17 );
        FLD_MODEL_POINT_ROTATE( var17, 7238.407f, 0.00f, -114.2696f, 5 );
        FLD_MODEL_SET_TRANSLATE( var17, 7238.407f, 0.00f, -114.2696f, 10 );
        FLD_MODEL_SYNC_TRANSLATE( var17 );
        FLD_MODEL_SET_ROTATE( var17, 0, 0, 0, 5 );
        FLD_MODEL_SET_TRANSLATE( var17, 7255.646f, 0.00f, 32.6111f, 20 );
        FLD_MODEL_SYNC_TRANSLATE( var17 );
        FLD_UNIT_SET_WAIT( var17 );
        Fld_FadeOut_Subway();
        CALL_FIELD( 11, 6, 2, 0 );
    }

}


// Procedure Index: 18
void SUB_GATE_OUT_1STDAY()
{
    int var18;
    var18 = FLD_PC_GET_RESHND( 0 );
    FLD_REQ_SCN_CHANGE( 11 );
    FLD_CAMERA_LOCK();
    FLD_PLACENAME_TEX( 1, 2, 0, 80 );
    FADEOUT( 0, 10 );
    FADE_SYNC();
    FLD_MODEL_SET_TRANSLATE( var18, 9010.592f, 499.9966f, 471.6445f, 0 );
    FLD_UNIT_SET_COLLIS( var18, 1 );
    FADEIN( 0, 10 );
    FLD_MODEL_UNIT_TRANSLATE( var18, 8750.559f, 499.9872f, 476.4548f, 0 );
    FLD_MODEL_SYNC_TRANSLATE( var18 );
    FADE_SYNC();
    FLD_UNIT_SET_WAIT( var18 );
    FLD_CAMERA_BEHIND_LOCK();
    FLD_CAMERA_INTERP( 20 );
    FLD_CAMERA_SYNC_INTERP();
    FLD_UNIT_SET_COLLIS( var18, 1 );
    FLD_CAMERA_BEHIND_UNLOCK();
    FLD_CAMERA_UNLOCK();
}


// Procedure Index: 19
void SUB_KFEVT_ACCESS_DENENTOSI_01()
{
    int var26;
    int var22;
    int var23;
    int var24;
    int var25;
    int var19;
    int var20;
    int var21;
    var26 = FLD_PC_GET_RESHND( 0 );
    var22 = 0;
    var23 = 0;
    var24 = 0;
    var25 = 0;
    var19 = GET_COUNT( 0x10 );
    var20 = ( var19 / 100 );
    var21 = REM( var19, 1000 );
    // bit id (((0) + (2048)) + (2048)) + (4049) = 8145
    
    if ( var20 == 1092 )
    {
        MSG_WND_DSP();
        MSG_MIND( MND_E10920100_NG_DENENTO, 0 );
        MSG_WND_CLS();
    }
    else if ( var20 == 1271 )
    {
        MSG_WND_DSP();
        MSG_MIND( MND_E12710100_NG_DENENTO, 0 );
        MSG_WND_CLS();
    }
    else if ( var20 == 2431 )
    {
        SUB_MoruShowFace();
        MSG_WND_DSP();
        MSG( MSG_E24310100_DENENTOSI_ );
        MSG_WND_CLS();
        SUB_MoruReturnBag();
    }
    else if ( var20 == 2433 )
    {
        SUB_MoruShowFace();
        MSG_WND_DSP();
        MSG( MSG_E24330100_DENENTOSI_ );
        MSG_WND_CLS();
        SUB_MoruReturnBag();
    }
    else 
    {
        
        if ( var20 == 1801 )
        {
            var22 = 180;
            var23 = 102;
            var24 = 0;
            var25 = 2;
        }

        
        if ( var22 != 0 )
        {
            BIT_OFF( ( ( ( 0 + 0x0800 ) + 0x0800 ) + 4049 ) );
            FLD_UNIT_SET_WALK( var26 );
            FLD_MODEL_POINT_ROTATE( var26, 7853.391f, 0.00f, -14.8684f, 5 );
            FLD_MODEL_SET_TRANSLATE( var26, 7853.391f, 0.00f, -14.8684f, 10 );
            FLD_MODEL_SYNC_TRANSLATE( var26 );
            FLD_MODEL_SET_ROTATE( var26, 0, 0, 0, 5 );
            FLD_MODEL_SET_TRANSLATE( var26, 7827.36f, -0.00f, 125.6125f, 20 );
            FLD_MODEL_SYNC_TRANSLATE( var26 );
            FLD_UNIT_SET_WAIT( var26 );
            Fld_FadeOut_Subway();
            CALL_KF_EVENT( var22, var23, var24, var25 );
            DBG_PUTS( "->kfevt:Yongenjaya_Platform" );
        }

    }

}


// Procedure Index: 20
void SUB_KFEVT_ACCESS_DENENTOSI_02()
{
    int var34;
    int var30;
    int var31;
    int var32;
    int var33;
    int var27;
    int var28;
    int var29;
    var34 = FLD_PC_GET_RESHND( 0 );
    var30 = 0;
    var31 = 0;
    var32 = 0;
    var33 = 0;
    var27 = GET_COUNT( 0x10 );
    var28 = ( var27 / 100 );
    var29 = REM( var27, 1000 );
    // bit id (((0) + (2048)) + (2048)) + (4049) = 8145
    
    if ( var28 == 1092 )
    {
        MSG_WND_DSP();
        MSG_MIND( MND_E10920100_NG_DENENTO, 0 );
        MSG_WND_CLS();
    }
    else if ( var28 == 1271 )
    {
        MSG_WND_DSP();
        MSG_MIND( MND_E12710100_NG_DENENTO, 0 );
        MSG_WND_CLS();
    }
    else if ( var28 == 2431 )
    {
        SUB_MoruShowFace();
        MSG_WND_DSP();
        MSG( MSG_E24310100_DENENTOSI_ );
        MSG_WND_CLS();
        SUB_MoruReturnBag();
    }
    else if ( var28 == 2433 )
    {
        SUB_MoruShowFace();
        MSG_WND_DSP();
        MSG( MSG_E24330100_DENENTOSI_ );
        MSG_WND_CLS();
        SUB_MoruReturnBag();
    }
    else 
    {
        
        if ( var28 == 1801 )
        {
            var30 = 180;
            var31 = 102;
            var32 = 0;
            var33 = 2;
        }

        
        if ( var30 != 0 )
        {
            BIT_OFF( ( ( ( 0 + 0x0800 ) + 0x0800 ) + 4049 ) );
            FLD_UNIT_SET_WALK( var34 );
            FLD_MODEL_POINT_ROTATE( var34, 13244.22f, 0.00f, -113.854f, 5 );
            FLD_MODEL_SET_TRANSLATE( var34, 13244.22f, 0.00f, -113.854f, 10 );
            FLD_MODEL_SYNC_TRANSLATE( var34 );
            FLD_MODEL_SET_ROTATE( var34, 0, 0, 0, 5 );
            FLD_MODEL_SET_TRANSLATE( var34, 13207.24f, 0.00f, 128.5401f, 20 );
            FLD_MODEL_SYNC_TRANSLATE( var34 );
            FLD_UNIT_SET_WAIT( var34 );
            Fld_FadeOut_Subway();
            CALL_KF_EVENT( var30, var31, var32, var33 );
            DBG_PUTS( "->kfevt:Yongenjaya_Platform" );
        }

    }

}


// Procedure Index: 21
void SUB_KFEVT_ACCESS_DENENTOSI_01_CALL()
{
    int var35;
    int var36;
    int var40;
    int var41;
    int var42;
    int var43;
    int var37;
    int var38;
    int var39;
    var35 = FLD_OBJ_CNV_RESHND( 18 );
    var36 = FLD_PC_GET_RESHND( 0 );
    var40 = 0;
    var41 = 0;
    var42 = 0;
    var43 = 0;
    var37 = GET_COUNT( 0x10 );
    var38 = ( var37 / 100 );
    var39 = REM( var37, 1000 );
    
    if ( var38 == 1092 )
    {
        MSG_WND_DSP();
        MSG_MIND( MND_E10920100_NG_DENENTO, 0 );
        MSG_WND_CLS();
    }
    else if ( var38 == 1271 )
    {
        MSG_WND_DSP();
        MSG_MIND( MND_E12710100_NG_DENENTO, 0 );
        MSG_WND_CLS();
    }
    else if ( var38 == 2431 )
    {
        SUB_MoruShowFace();
        MSG_WND_DSP();
        MSG( MSG_E24310100_DENENTOSI_ );
        MSG_WND_CLS();
        SUB_MoruReturnBag();
    }
    else if ( var38 == 2433 )
    {
        SUB_MoruShowFace();
        MSG_WND_DSP();
        MSG( MSG_E24330100_DENENTOSI_ );
        MSG_WND_CLS();
        SUB_MoruReturnBag();
    }
    else 
    {
        
        if ( var38 == 1801 )
        {
            var40 = 180;
            var41 = 102;
            var42 = 0;
            var43 = 2;
        }

        
        if ( var40 != 0 )
        {
            FLD_LOCAL_FLAG_ON( ( 49152 + 10 ) );
            Fld_FadeOut_CutChange();
            FLD_CROWD_PATH_VISIBLE( 4, 1 );
            FLD_CROWD_PATH_VISIBLE( 7, 1 );
            FLD_CROWD_PATH_VISIBLE( 9, 1 );
            FLD_CROWD_PATH_VISIBLE( 73, 1 );
            FLD_CROWD_PATH_VISIBLE( 79, 1 );
            FLD_CROWD_PATH_VISIBLE( 81, 1 );
            FLD_CROWD_PATH_VISIBLE( 86, 1 );
            FLD_CROWD_PATH_VISIBLE( 88, 1 );
            BGENV_LINE_SE_STOP( 3 );
            BGENV_LINE_SE_STOP( 4 );
            BGENV_LINE_SE_STOP( 5 );
            BGENV_LINE_SE_STOP( 6 );
            MDL_ANIM( var35, 5, 0, 0, 1.00f );
            MDL_ANIM( var35, 1, 0, 0, 1.00f );
            BGENV_LINE_SE_PLAY( 6 );
            
            if ( FLD_MODEL_GET_X_TRANSLATE( var36 ) >= 7628.00f )
            {
                FLD_MODEL_SET_POS( var36, 8 );
            }
            else 
            {
                FLD_MODEL_SET_POS( var36, 23 );
            }

            FLD_MODEL_SET_ROTATE( var36, 0, 0, 0, 5 );
            Fld_FadeIn_Default();
            MDL_ANIM_SYNC( var35 );
            FLD_CROWD_PATH_VISIBLE( 1, 1 );
            FLD_CROWD_PATH_VISIBLE( 8, 1 );
            FLD_CROWD_PATH_VISIBLE( 17, 1 );
            FLD_CROWD_PATH_VISIBLE( 19, 1 );
            FLD_CROWD_PATH_VISIBLE( 0x10, 1 );
            FLD_CROWD_PATH_VISIBLE( 68, 1 );
            FLD_CROWD_PATH_VISIBLE( 82, 1 );
            FLD_CROWD_PATH_VISIBLE( 87, 1 );
            MDL_ANIM( var35, 2, 0, 0, 1.00f );
            MDL_ANIM_SYNC( var35 );
            FLD_CROWD_PATH_WAIT( 1, 0 );
            FLD_CROWD_PATH_WAIT( 8, 0 );
            FLD_CROWD_PATH_WAIT( 17, 0 );
            FLD_CROWD_PATH_WAIT( 19, 0 );
            FLD_CROWD_PATH_WAIT( 0x10, 0 );
            FLD_CROWD_PATH_WAIT( 68, 0 );
            FLD_CROWD_PATH_WAIT( 82, 0 );
            FLD_CROWD_PATH_WAIT( 87, 0 );
            FLD_CROWD_PATH_WAIT( 4, 0 );
            FLD_CROWD_PATH_WAIT( 7, 0 );
            FLD_CROWD_PATH_WAIT( 9, 0 );
            FLD_CROWD_PATH_WAIT( 73, 0 );
            FLD_CROWD_PATH_WAIT( 79, 0 );
            FLD_CROWD_PATH_WAIT( 81, 0 );
            FLD_CROWD_PATH_WAIT( 86, 0 );
            FLD_CROWD_PATH_WAIT( 88, 0 );
            FLD_UNIT_SET_WALK( var36 );
            FLD_MODEL_ADD_TRANSLATE( var36, 0, 0, 300, 30 );
            FLD_MODEL_SYNC_TRANSLATE( var36 );
            FLD_UNIT_SET_WAIT( var36 );
            Fld_FadeOut_Subway();
            CALL_KF_EVENT( var40, var41, var42, var43 );
            DBG_PUTS( "->kfevt:Yongenjaya_Platform" );
        }

    }

}


// Procedure Index: 22
void SUB_KFEVT_ACCESS_DENENTOSI_02_CALL()
{
    int var44;
    int var45;
    int var49;
    int var50;
    int var51;
    int var52;
    int var46;
    int var47;
    int var48;
    var44 = FLD_OBJ_CNV_RESHND( 18 );
    var45 = FLD_PC_GET_RESHND( 0 );
    var49 = 0;
    var50 = 0;
    var51 = 0;
    var52 = 0;
    var46 = GET_COUNT( 0x10 );
    var47 = ( var46 / 100 );
    var48 = REM( var46, 1000 );
    
    if ( var47 == 1092 )
    {
        MSG_WND_DSP();
        MSG_MIND( MND_E10920100_NG_DENENTO, 0 );
        MSG_WND_CLS();
    }
    else if ( var47 == 1271 )
    {
        MSG_WND_DSP();
        MSG_MIND( MND_E12710100_NG_DENENTO, 0 );
        MSG_WND_CLS();
    }
    else if ( var47 == 2431 )
    {
        SUB_MoruShowFace();
        MSG_WND_DSP();
        MSG( MSG_E24310100_DENENTOSI_ );
        MSG_WND_CLS();
        SUB_MoruReturnBag();
    }
    else if ( var47 == 2433 )
    {
        SUB_MoruShowFace();
        MSG_WND_DSP();
        MSG( MSG_E24330100_DENENTOSI_ );
        MSG_WND_CLS();
        SUB_MoruReturnBag();
    }
    else 
    {
        
        if ( var47 == 1801 )
        {
            var49 = 180;
            var50 = 102;
            var51 = 0;
            var52 = 2;
        }

        
        if ( var49 != 0 )
        {
            Fld_FadeOut_CutChange();
            FLD_CROWD_PATH_VISIBLE( 1, 1 );
            FLD_CROWD_PATH_VISIBLE( 8, 1 );
            FLD_CROWD_PATH_VISIBLE( 17, 1 );
            FLD_CROWD_PATH_VISIBLE( 19, 1 );
            FLD_CROWD_PATH_VISIBLE( 0x10, 1 );
            FLD_CROWD_PATH_VISIBLE( 68, 1 );
            FLD_CROWD_PATH_VISIBLE( 82, 1 );
            FLD_CROWD_PATH_VISIBLE( 87, 1 );
            FLD_CROWD_PATH_VISIBLE( 4, 1 );
            FLD_CROWD_PATH_VISIBLE( 7, 1 );
            FLD_CROWD_PATH_VISIBLE( 9, 1 );
            FLD_CROWD_PATH_VISIBLE( 73, 1 );
            FLD_CROWD_PATH_VISIBLE( 79, 1 );
            FLD_CROWD_PATH_VISIBLE( 81, 1 );
            FLD_CROWD_PATH_VISIBLE( 86, 1 );
            FLD_CROWD_PATH_VISIBLE( 88, 1 );
            BGENV_LINE_SE_STOP( 3 );
            BGENV_LINE_SE_STOP( 4 );
            BGENV_LINE_SE_STOP( 5 );
            BGENV_LINE_SE_STOP( 6 );
            MDL_ANIM( var44, 5, 0, 0, 1.00f );
            MDL_ANIM( var44, 1, 0, 0, 1.00f );
            MDL_ANIM_SEEK( var44, 120 );
            BGENV_LINE_SE_PLAY( 3 );
            FLD_MODEL_SET_POS( var45, 3 );
            FLD_MODEL_SET_ROTATE( var45, 0, 0, 0, 5 );
            Fld_FadeIn_Default();
            MDL_ANIM_SYNC( var44 );
            MDL_ANIM( var44, 2, 0, 0, 1.00f );
            MDL_ANIM_SYNC( var44 );
            FLD_CROWD_PATH_WAIT( 1, 0 );
            FLD_CROWD_PATH_WAIT( 8, 0 );
            FLD_CROWD_PATH_WAIT( 17, 0 );
            FLD_CROWD_PATH_WAIT( 19, 0 );
            FLD_CROWD_PATH_WAIT( 0x10, 0 );
            FLD_CROWD_PATH_WAIT( 68, 0 );
            FLD_CROWD_PATH_WAIT( 82, 0 );
            FLD_CROWD_PATH_WAIT( 87, 0 );
            FLD_CROWD_PATH_WAIT( 4, 0 );
            FLD_CROWD_PATH_WAIT( 7, 0 );
            FLD_CROWD_PATH_WAIT( 9, 0 );
            FLD_CROWD_PATH_WAIT( 73, 0 );
            FLD_CROWD_PATH_WAIT( 79, 0 );
            FLD_CROWD_PATH_WAIT( 81, 0 );
            FLD_CROWD_PATH_WAIT( 86, 0 );
            FLD_CROWD_PATH_WAIT( 88, 0 );
            FLD_UNIT_SET_WALK( var45 );
            FLD_MODEL_ADD_TRANSLATE( var45, 0, 0, 300, 30 );
            FLD_MODEL_SYNC_TRANSLATE( var45 );
            FLD_UNIT_SET_WAIT( var45 );
            Fld_FadeOut_Subway();
            CALL_KF_EVENT( var49, var50, var51, var52 );
            DBG_PUTS( "->kfevt:Yongenjaya_Platform" );
        }

    }

}


// Procedure Index: 23
void SUB_KFEVT_GOTO_STATION_HIKA()
{
    int var56;
    int var57;
    int var58;
    int var59;
    int var53;
    int var54;
    int var55;
    var56 = 0;
    var57 = 0;
    var58 = 0;
    var59 = 0;
    var53 = GET_COUNT( 0x10 );
    var54 = ( var53 / 100 );
    var55 = REM( var53, 1000 );
    
    if ( var54 == 1092 )
    {
        var56 = 109;
        var57 = 206;
        var58 = 0;
        var59 = 24;
    }
    else if ( var54 == 1271 )
    {
        var56 = 127;
        var57 = 105;
        var58 = 0;
        var59 = 24;
    }
    else if ( var54 == 1801 )
    {
        var56 = 180;
        var57 = 103;
        var58 = 0;
        var59 = 24;
    }
    else if ( var54 == 2431 )
    {
        var56 = 243;
        var57 = 102;
        var58 = 0;
        var59 = 24;
    }
    else if ( var54 == 2433 )
    {
        var56 = 243;
        var57 = 302;
        var58 = 0;
        var59 = 24;
    }

    
    if ( var56 != 0 )
    {
        BGENV_LINE_SE_STOP( 3 );
        BGENV_LINE_SE_STOP( 4 );
        BGENV_LINE_SE_STOP( 5 );
        BGENV_LINE_SE_STOP( 6 );
        FLD_REQ_SCN_CHANGE( 11 );
        CALL_KF_EVENT( var56, var57, var58, var59 );
        DBG_PUTS( "->kfevt:Shibuya_Passage" );
    }

}


// Procedure Index: 24
void SUB_KFEVT_GOTO_STATION_INO()
{
    int var63;
    int var64;
    int var65;
    int var66;
    int var60;
    int var61;
    int var62;
    var63 = 0;
    var64 = 0;
    var65 = 0;
    var66 = 0;
    var60 = GET_COUNT( 0x10 );
    var61 = ( var60 / 100 );
    var62 = REM( var60, 1000 );
    
    if ( var61 == 1092 )
    {
        var63 = 109;
        var64 = 206;
        var65 = 0;
        var66 = 25;
    }
    else if ( var61 == 1271 )
    {
        var63 = 127;
        var64 = 105;
        var65 = 0;
        var66 = 25;
    }
    else if ( var61 == 1801 )
    {
        var63 = 180;
        var64 = 103;
        var65 = 0;
        var66 = 25;
    }
    else if ( var61 == 2431 )
    {
        var63 = 243;
        var64 = 102;
        var65 = 0;
        var66 = 25;
    }
    else if ( var61 == 2433 )
    {
        var63 = 243;
        var64 = 302;
        var65 = 0;
        var66 = 25;
    }

    
    if ( var63 != 0 )
    {
        BGENV_LINE_SE_STOP( 3 );
        BGENV_LINE_SE_STOP( 4 );
        BGENV_LINE_SE_STOP( 5 );
        BGENV_LINE_SE_STOP( 6 );
        FLD_REQ_SCN_CHANGE( 11 );
        CALL_KF_EVENT( var63, var64, var65, var66 );
        DBG_PUTS( "->kfevt:Shibuya_Passage" );
    }

}


// Procedure Index: 25
void Fld_FadeOut_CallField()
{
    FADEOUT( 27, 10 );
    FADE_SYNC();
}


// Procedure Index: 26
void Fld_FadeOut_Crowd()
{
    FLD_REQ_SCN_CHANGE( 0 );
}


// Procedure Index: 27
void Fld_FadeOut_CallEvent()
{
    FADEOUT( 15, 10 );
    FADE_SYNC();
}


// Procedure Index: 28
void Fld_FadeOut_CallCalendar()
{
    FADEOUT( 15, 10 );
    FADE_SYNC();
}


// Procedure Index: 29
void Fld_FadeOut_Default()
{
    FADEOUT( 0, 10 );
    FADE_SYNC();
}


// Procedure Index: 30
void Fld_FadeOut_Wait10()
{
    FADEOUT( 0, 10 );
    FADE_SYNC();
    WAIT( 10 );
}


// Procedure Index: 31
void Fld_FadeIn_Default()
{
    FADEIN( 0, 20 );
    FADE_SYNC();
}


// Procedure Index: 32
void Fld_FadeOut_Subway()
{
    FADEOUT( 8, 10 );
    FADE_SYNC();
}


// Procedure Index: 33
void Fld_FadeOut_Symbol()
{
    FADEOUT( 15, 10 );
    FADE_SYNC();
}


// Procedure Index: 34
void Fld_FadeOut_Rain()
{
    FADEOUT( 11, 10 );
    FADE_SYNC();
}


// Procedure Index: 35
void Fld_FadeOut_Cross()
{
    FADEOUT( 13, 10 );
    FADE_SYNC();
}


// Procedure Index: 36
void Fld_FadeOut_Parallel()
{
    FADEOUT( 14, 10 );
    FADE_SYNC();
}


// Procedure Index: 37
void Fld_FadeOut_CutChange()
{
    FADEOUT( 5, 10 );
    FADE_SYNC();
}


// Procedure Index: 38
void Fld_FadeOut_Velvet()
{
    FADEOUT( 19, 10 );
    FADE_SYNC();
}


// Procedure Index: 39
void SUB_MoruShowFace()
{
    int var67;
    int var68;
    
    if ( FLD_CHECK_MORGANA_BAG() == 1 )
    {
        var67 = FLD_PC_GET_CURRENT_RESHND( 0 );
        var68 = MDL_GET_ITEM_RESHND( var67, 2 );
        MDL_ANIM( var68, 50, 0, 0, 1.00f );
        MDL_ANIM_NEXT( var68, 51, 1, 0, 1.00f );
    }

}


// Procedure Index: 40
void SUB_MoruReturnBag()
{
    int var69;
    int var70;
    
    if ( FLD_CHECK_MORGANA_BAG() == 1 )
    {
        var69 = FLD_PC_GET_CURRENT_RESHND( 0 );
        var70 = MDL_GET_ITEM_RESHND( var69, 2 );
        MDL_ANIM( var70, 52, 0, 5, 1.00f );
        MDL_ANIM_NEXT( var70, 0, 1, 0, 1.00f );
    }

}


// Procedure Index: 41
void position_rotate()
{
    float fVar0;
    float fVar3;
    float fVar7;
    float fVar1;
    float fVar4;
    float fVar8;
    float fVar2;
    float fVar5;
    float fVar9;
    float fVar6;
    float fVar10;
    float fVar11;
    fVar7 = ( fVar3 - fVar0 );
    fVar8 = ( fVar4 - fVar1 );
    fVar9 = ( fVar5 - fVar2 );
    fVar10 = SIN( fVar6 );
    fVar11 = COS( fVar6 );
    fVar3 = ( ( fVar7 * fVar11 ) + ( fVar9 * fVar10 ) );
    fVar4 = fVar8;
    fVar5 = ( ( fVar9 * fVar11 ) - ( fVar7 * fVar10 ) );
    fVar3 = ( fVar3 + fVar0 );
    fVar4 = ( fVar4 + fVar1 );
    fVar5 = ( fVar5 + fVar2 );
}


// Procedure Index: 42
void Position_TurnBack()
{
    int var72;
    int var71;
    var72 = FLD_PC_GET_RESHND( 0 );
    FLD_MODEL_DIR_TRANSLATE( var72, var71, 200, 0 );
    FLD_MODEL_SYNC_TRANSLATE( var72 );
    FLD_UNIT_SET_WAIT( var72 );
}


// Procedure Index: 43
void SUB_PhoneRing()
{
    int var76;
    var76 = FLD_PC_GET_RESHND( 0 );
    MDL_ICON( var76, 15 );
    COMSE_PLAY( 1048 );
    WAIT( 10 );
    RUMBLE_START_S( 6, 12, 2, 30 );
    WAIT( 30 );
}


// Procedure Index: 44
void SUB_PhoneRumble()
{
    int var77;
    var77 = FLD_PC_GET_RESHND( 0 );
    MDL_ICON( var77, 18 );
    COMSE_PLAY( 1047 );
    WAIT( 10 );
    RUMBLE_START_S( 6, 12, 2, 30 );
    WAIT( 30 );
}


// Procedure Index: 45
void SUB_PhonePickup()
{
    sVar73 = 0;
    FLD_SET_CELLPHONE( 1 );
    WAIT( 15 );
    sVar73 = 1;
}


// Procedure Index: 46
void SUB_PhoneCall()
{
    sVar74 = FLD_PC_GET_RESHND( 0 );
    
    if ( ( ( ( GET_WEATHER_DETAIL() == 1 ) || ( GET_WEATHER_DETAIL() == 4 ) ) || ( GET_WEATHER_DETAIL() == 5 ) ) || ( GET_WEATHER_DETAIL() == 8 ) )
    {
        sVar75 = FLD_MODEL_ADDMOTION_LOAD( sVar74, 101 );
    }
    else 
    {
        sVar75 = FLD_MODEL_ADDMOTION_LOAD( sVar74, 1 );
    }

    FLD_MODEL_LOADSYNC( sVar75 );
    FLD_MODEL_COPY_POSE_ANIM( sVar75, sVar74 );
    FLD_MODEL_SET_VISIBLE( sVar74, 0, 0 );
    FLD_MODEL_SET_VISIBLE( sVar75, 1, 0 );
    FLD_CELLPHONE_MODEL_VISIBLE( sVar75, 1 );
    MDL_ANIM( sVar75, ( 60 + 0 ), 0, 5, 1.00f );
    MDL_ANIM_NEXT( sVar75, ( 60 + 1 ), 1, 0, 1.00f );
    sVar73 = 2;
    WAIT( 30 );
}


// Procedure Index: 47
void SUB_PhoneTalk()
{
    SUB_PhonePickup();
    SUB_PhoneCall();
}


// Procedure Index: 48
void SUB_PhoneEnd()
{
    
    if ( sVar73 == 0 )
    {
        return;
    }

    
    if ( sVar73 != 2 )
    {
        FLD_SET_CELLPHONE( 0 );
    }
    else 
    {
        FLD_MODEL_SET_VISIBLE( sVar74, 0, 0 );
        FLD_MODEL_SET_VISIBLE( sVar75, 1, 0 );
        MDL_ANIM( sVar75, ( 60 + 2 ), 0, 10, 1.00f );
        WAIT( 65 );
        FLD_CELLPHONE_MODEL_VISIBLE( sVar75, 0 );
        MDL_ANIM_SYNC( sVar75 );
        MDL_ANIM( sVar75, 0, 1, 0, 1.00f );
        MDL_ANIM_BLENDSYNC( sVar75 );
        FLD_MODEL_COPY_POSE_ANIM( sVar74, sVar75 );
        FLD_MODEL_SET_VISIBLE( sVar74, 1, 0 );
        FLD_MODEL_SET_VISIBLE( sVar75, 0, 0 );
        FLD_MODEL_FREE( sVar75 );
        FLD_SET_CELLPHONE( 0 );
    }

    sVar73 = 0;
}

